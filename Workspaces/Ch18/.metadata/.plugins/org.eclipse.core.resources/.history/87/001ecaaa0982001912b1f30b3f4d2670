import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;
import java.io.File;

import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JPanel;

public class ControlPanel extends JPanel implements KeyListener{
	private ImagePanel canvas;
	private String imageFolderPath;
	private JButton forward, reverse;
	private JComboBox<String> imageList;
	private String[] fileNames, comboBoxNames;
	private int currentIndex;
	public ControlPanel(ImagePanel img, String path)
	{
		File folder = new File(path);
		String[] fileNames = folder.list();
		if(fileNames == null || fileNames.length == 0)
		{
			System.out.println("*** The folder " + 
				path + " does not exist or is empty ***");
			System.exit(1);
		}
		add(forward);
		add(reverse);
		add(imageList);
		currentIndex = 0;
		canvas.readImage(path + "/" + fileNames[currentIndex]);
		
	}
	public void actionPerformed()
	{
		
		canvas.readImage(getName());
		canvas.getIgnoreRepaint();
		requestFocus();
		
	}
	@Override
	public void keyTyped(KeyEvent e) {
		// TODO Auto-generated method stub
		
	}
	@Override
	public void keyPressed(KeyEvent e) {
		// TODO Auto-generated method stub
		int b = e.getKeyCode();
		if(b==13 || b==9 || b==39 || b==32)
			currentIndex++;
		if(b==37 || b==38)
			currentIndex--;
		if(b==27)
			System.exit(1);
			
		canvas.repaint();
	}
	@Override
	public void keyReleased(KeyEvent e) {
		// TODO Auto-generated method stub
		
	}
}
